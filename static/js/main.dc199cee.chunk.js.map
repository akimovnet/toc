{"version":3,"sources":["components/TOCItem.module.css","components/TOCFilter.module.css","components/TOCPreloader.module.css","components/TOCList.module.css","components/TOC.module.css","components/TOCPreloader.js","helpers.js","components/TOCProvider.js","components/TOCItem.js","components/TOCList.js","components/TOCFilter.js","components/TOC.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","TOCPreloader","className","styles","container","Array","map","item","index","key","getAncestorIds","id","pages","accumulator","parentId","getDescendantIdsByList","ids","reduce","mergeWithoutDuplicates","getDescendantIds","children","length","childIds","childId","array1","array2","filter","includes","TOCDispatchContext","React","createContext","TOCStateContext","TOCProvider","useReducer","state","action","type","isLoaded","anchors","topLevelIds","error","selectedItemId","expandedItemIds","matchedIds","searchString","Object","keys","title","toLowerCase","matchedAncestorIds","getAncestorIdsByList","filteredIds","dispatch","useEffect","fetch","process","then","result","json","entities","Provider","value","TOCItem","url","useContext","childrenRef","useRef","isExpanded","isSelected","isMatched","hasChildren","hasAnchors","titleWithHighlightedMatch","split","RegExp","part","highlighted","expandWithAnimation","a","current","animate","height","clientHeight","duration","easing","handleTitleClick","event","preventDefault","heading","selected","expanded","titleWrapper","toggleChildren","onClick","setTimeout","fill","toggleChildrenIcon","href","anchor","e","ref","TOCList","TOCFilter","useState","timeoutId","setTimeoutId","waitingIcon","placeholder","onChange","target","clearTimeout","TOC","message","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.dc199cee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"outOfBoundsBackground\":\"TOCItem_outOfBoundsBackground__2X_dc\",\"heading\":\"TOCItem_heading__YKrqZ TOCItem_outOfBoundsBackground__2X_dc\",\"selected\":\"TOCItem_selected__2aSsf\",\"hasAnchors\":\"TOCItem_hasAnchors__3T4-B\",\"titleWrapper\":\"TOCItem_titleWrapper__SwYb5\",\"toggleChildren\":\"TOCItem_toggleChildren__2xnuR\",\"toggleChildrenIcon\":\"TOCItem_toggleChildrenIcon__2yOt6\",\"expanded\":\"TOCItem_expanded__3CB65\",\"title\":\"TOCItem_title__1WOx3 TOCItem_outOfBoundsBackground__2X_dc\",\"highlighted\":\"TOCItem_highlighted__1Gw7p\",\"anchors\":\"TOCItem_anchors__24GFT\",\"anchor\":\"TOCItem_anchor__NtT6_ TOCItem_outOfBoundsBackground__2X_dc\",\"children\":\"TOCItem_children__WZ5Bs TOCItem_outOfBoundsBackground__2X_dc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TOCFilter_container__1NYSo\",\"filter\":\"TOCFilter_filter__3mR-6\",\"waitingIcon\":\"TOCFilter_waitingIcon__ABWOY\",\"spin\":\"TOCFilter_spin__3sNC_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TOCPreloader_container__3YnwV\",\"item1\":\"TOCPreloader_item1__2V7yY\",\"item3\":\"TOCPreloader_item3__XY-Vb\",\"item2\":\"TOCPreloader_item2__23mTe\",\"item4\":\"TOCPreloader_item4__18mWo\",\"item6\":\"TOCPreloader_item6__2q_39\",\"item5\":\"TOCPreloader_item5__6cMgn\",\"item7\":\"TOCPreloader_item7__3q-Ed\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TOCList_container__1asT2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TOC_container__2wb6g\"};","import React from \"react\";\nimport styles from \"./TOCPreloader.module.css\";\n\nfunction TOCPreloader() {\n  return (\n    <ul className={styles.container}>\n      {[...Array(10)].map((item, index) =>\n        <li key={index} className={styles['item' + index]}></li>\n      )}\n    </ul>\n  );\n}\n\nexport default TOCPreloader;\n","export const getAncestorIds = (id, pages, accumulator) => {\n  const { parentId } = pages[id];\n  if (!parentId) {\n    return accumulator;\n  }\n  return getAncestorIds(\n    parentId,\n    pages,\n    [...accumulator, parentId]\n  );\n};\n\nexport const getAncestorIdsByList = (ids, pages) =>\n  ids.reduce((accumulator, id) =>\n    mergeWithoutDuplicates(\n      accumulator,\n      getAncestorIds(id, pages, [])\n    ), []);\n\nexport const getDescendantIds = (id, pages) => {\n  const children = pages[id].pages;\n  if (!children || children.length === 0) {\n    return [];\n  }\n  return children.reduce((childIds, childId) => [\n    ...childIds,\n    childId,\n    ...getDescendantIds(childId, pages)\n  ], []);\n};\n\nexport const getDescendantIdsByList = (ids, pages) =>\n  ids.reduce((accumulator, id) =>\n    mergeWithoutDuplicates(accumulator, getDescendantIds(id, pages)), []);\n\nexport const getMatchedItemIds = (searchString, pages) => {\n  return Object.keys(pages).filter(id =>\n    pages[id].title.toLowerCase().includes(searchString.toLowerCase())\n  )\n};\n\nexport const mergeWithoutDuplicates = (array1, array2) => {\n  return [\n    ...array1,\n    ...array2.filter(item => !array1.includes(item))\n  ];\n};\n","import React, {useEffect, useReducer} from \"react\";\nimport {\n  getAncestorIds,\n  getAncestorIdsByList,\n  getDescendantIdsByList,\n  getMatchedItemIds,\n  mergeWithoutDuplicates\n} from \"../helpers\";\n\nconst TOCDispatchContext = React.createContext();\nconst TOCStateContext = React.createContext();\n\nfunction TOCProvider({children}) {\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'SET_LOADED_DATA':\n        return {\n          ...state,\n          isLoaded: true,\n          pages: action.pages,\n          anchors: action.anchors,\n          topLevelIds: action.topLevelIds\n        };\n      case 'SET_LOADING_DATA_ERROR':\n        return {\n          ...state,\n          isLoaded: true,\n          error: action.error\n        };\n      case 'SELECT_PAGE':\n        return {\n          ...state,\n          selectedItemId: action.id\n        };\n      case 'EXPAND':\n        return {\n          ...state,\n          expandedItemIds: [...state.expandedItemIds, action.id]\n        };\n      case 'COLLAPSE':\n        return {\n          ...state,\n          expandedItemIds: state.expandedItemIds.filter(id => id !== action.id)\n        };\n      case 'EXPAND_ANCESTORS':\n        return {\n          ...state,\n          expandedItemIds: mergeWithoutDuplicates(\n            state.expandedItemIds,\n            getAncestorIds(action.id, state.pages,[])\n          )\n        };\n      case 'FILTER':\n        const matchedIds = getMatchedItemIds(action.searchString, state.pages);\n        const matchedAncestorIds = getAncestorIdsByList(matchedIds, state.pages);\n        return {\n          ...state,\n          matchedIds,\n          searchString: action.searchString,\n          expandedItemIds: matchedAncestorIds,\n          filteredIds: mergeWithoutDuplicates(\n            getDescendantIdsByList(matchedIds, state.pages),\n            mergeWithoutDuplicates(matchedIds, matchedAncestorIds)\n          )\n        };\n      case 'RESTORE':\n        return {\n          ...state,\n          searchString: '',\n          matchedIds: [],\n          filteredIds: [],\n          expandedItemIds: []\n        };\n      default:\n        return state;\n    }\n  };\n  const initialState = {\n    error: null,\n    isLoaded: false,\n    pages: [],\n    anchors: [],\n    topLevelIds: [],\n    expandedItemIds: [],\n    matchedIds: [],\n    filteredIds: [],\n    searchString: '',\n    selectedItemId: null\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    fetch(process.env.REACT_APP_TOC_DATA_URL)\n      .then(result => result.json())\n      .then(\n        (result) => {\n          dispatch({\n            type: 'SET_LOADED_DATA',\n            pages: result.entities.pages,\n            anchors: result.entities.anchors,\n            topLevelIds: result.topLevelIds\n          });\n        },\n        (error) => {\n          dispatch({ type: 'SET_LOADING_DATA_ERROR', error });\n        });\n  }, []);\n\n  return (\n    <TOCDispatchContext.Provider value={dispatch}>\n      <TOCStateContext.Provider value={state}>\n        {children}\n      </TOCStateContext.Provider>\n    </TOCDispatchContext.Provider>\n  );\n}\n\nexport { TOCProvider, TOCDispatchContext, TOCStateContext };\n","import React, {useContext, useRef} from \"react\";\nimport TOCList from \"./TOCList\";\nimport {TOCDispatchContext, TOCStateContext} from \"./TOCProvider\";\nimport styles from \"./TOCItem.module.css\";\n\nfunction TOCItem({id, title, url, pages, anchors}) {\n  const dispatch = useContext(TOCDispatchContext);\n  const state = useContext(TOCStateContext);\n  const childrenRef = useRef(null);\n\n  const isExpanded = state.expandedItemIds.includes(id);\n  const isSelected = state.selectedItemId === id;\n  const isMatched = state.matchedIds.includes(id);\n  const hasChildren = pages && pages.length > 0;\n  const hasAnchors = anchors && anchors.length > 0;\n\n  const titleWithHighlightedMatch = isMatched\n    ? title\n        .split(new RegExp(`(${state.searchString})`, 'gi'))\n        .map((part, index) =>\n          index % 2 === 1\n            ? <span className={styles.highlighted} key={index}>{part}</span>\n            : part\n        )\n    : title;\n\n  async function expandWithAnimation() {\n    await dispatch({ type: 'EXPAND', id });\n    childrenRef.current.animate(\n      { height: [0, childrenRef.current.clientHeight + 'px'] },\n      { duration: 200, easing: 'ease' }\n    );\n  }\n\n  function collapseWithAnimation() {\n    setTimeout(() => {\n      dispatch({ type: 'COLLAPSE', id });\n    }, 200);\n    childrenRef.current.animate(\n      { height: [childrenRef.current.clientHeight + 'px', 0] },\n      { duration: 200, easing: 'ease', fill: 'forwards' }\n    );\n  }\n\n  function handleTitleClick(event) {\n    event.preventDefault();\n    if (!isSelected) {\n      dispatch({ type: 'SELECT_PAGE', id });\n    }\n    if (hasChildren && !isExpanded) {\n      expandWithAnimation();\n    }\n  }\n\n  function handleToggleChildrenClick() {\n    if (isExpanded) {\n      collapseWithAnimation();\n    } else {\n      expandWithAnimation();\n    }\n  }\n\n  return (\n    <li>\n      <div className={styles.heading\n                      + (isSelected? ` ${styles.selected}` : '')\n                      + (isExpanded? ` ${styles.expanded}` : '')\n                      + (hasAnchors? ` ${styles.hasAnchors}` : '')}>\n        <div className={styles.titleWrapper}>\n          {hasChildren &&\n            <div className={styles.toggleChildren} onClick={handleToggleChildrenClick}>\n              <div className={styles.toggleChildrenIcon}></div>\n            </div>\n          }\n          {url\n            ? <a className={styles.title} href={url} onClick={handleTitleClick}>{titleWithHighlightedMatch}</a>\n            : <span className={styles.title} onClick={handleTitleClick}>{titleWithHighlightedMatch}</span>\n          }\n        </div>\n        {isSelected && hasAnchors &&\n          <ul className={styles.anchors}>\n            {anchors.map(id =>\n              <li key={id}>\n                <a className={styles.anchor}\n                   href={state.anchors[id].url + state.anchors[id].anchor}\n                   onClick={e => e.preventDefault()}>\n                  {state.anchors[id].title}\n                </a>\n              </li>\n            )}\n          </ul>\n        }\n      </div>\n      {isExpanded && hasChildren &&\n        <div ref={childrenRef} className={styles.children}>\n          <TOCList ids={pages} />\n        </div>\n      }\n    </li>\n  );\n}\n\nexport default TOCItem;\n","import React, {useContext} from \"react\";\nimport TOCItem from \"./TOCItem\";\nimport {TOCStateContext} from \"./TOCProvider\";\nimport styles from \"./TOCList.module.css\";\n\nfunction TOCList({ids}) {\n  const { pages, searchString, filteredIds } = useContext(TOCStateContext);\n\n  return (\n    <ul className={styles.container}>\n      {ids.filter(id => searchString === '' || filteredIds.includes(id)).map(id =>\n        <TOCItem key={id} {...pages[id]} />\n      )}\n    </ul>\n  );\n}\n\nexport default TOCList;\n","import React, {useContext, useState} from \"react\";\nimport {TOCDispatchContext} from \"./TOCProvider\";\nimport styles from \"./TOCFilter.module.css\";\n\nfunction TOCFilter() {\n  const dispatch = useContext(TOCDispatchContext);\n  const [timeoutId, setTimeoutId] = useState(null);\n\n  function handleChange(event) {\n    const searchString = event.target.value;\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    setTimeoutId(\n      setTimeout(() => {\n        if (searchString === '') {\n          dispatch({ type: 'RESTORE' });\n        } else {\n          dispatch({ type: 'FILTER', searchString });\n        }\n        setTimeoutId(null);\n      }, 1000)\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      {timeoutId &&\n        <div className={styles.waitingIcon}></div>\n      }\n      <input className={styles.filter} type=\"text\" placeholder=\"Filter...\" onChange={handleChange} />\n    </div>\n  );\n}\n\nexport default TOCFilter;\n","import React, {useContext, useEffect} from \"react\";\nimport TOCPreloader from \"./TOCPreloader\";\nimport TOCList from \"./TOCList\";\nimport {TOCDispatchContext, TOCStateContext} from \"./TOCProvider\";\nimport styles from \"./TOC.module.css\";\nimport TOCFilter from \"./TOCFilter\";\n\nfunction TOC({id, searchString}) {\n  const { error, isLoaded, topLevelIds } = useContext(TOCStateContext);\n  const dispatch = useContext(TOCDispatchContext);\n\n  useEffect(() => {\n    if (isLoaded && id) {\n      dispatch({ type: 'EXPAND_ANCESTORS', id });\n      dispatch({ type: 'SELECT_PAGE', id });\n      dispatch({ type: 'EXPAND', id });\n    }\n  }, [isLoaded, id, dispatch]);\n\n  useEffect(() => {\n    if (isLoaded && searchString) {\n      dispatch({ type: 'FILTER', searchString });\n    }\n  }, [isLoaded, searchString, dispatch]);\n\n  return (\n    <div className={styles.container}>\n      {error\n        ? <div>{error.message}</div>\n        : !isLoaded\n          ? <TOCPreloader />\n          : <>\n              <TOCFilter />\n              <TOCList ids={topLevelIds} />\n            </>\n      }\n    </div>\n  );\n}\n\nexport default TOC;\n","import React from 'react';\nimport TOC from \"./TOC\";\nimport {TOCProvider} from \"./TOCProvider\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TOCProvider>\n        <TOC />\n      </TOCProvider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport 'web-animations-js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}